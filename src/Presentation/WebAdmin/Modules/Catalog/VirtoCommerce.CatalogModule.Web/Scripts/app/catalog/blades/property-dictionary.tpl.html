<div class="blade-content">
    <div class="blade-inner">
        <div class="inner-block">
            <form class="form" ng-submit="add()" name="pdForm" novalidate autocomplete="off">
                <fieldset>
                    <legend>New value</legend>
                    <div class="form-group">
                        <label class="form-label" ng-if="pb.currentEntity.multilanguage">Language</label>
                        <div ng-if="pb.currentEntity.multilanguage" data-role="input-control" class="input-control select">
                            <select chosen ng-model="newValue.languageCode" ng-options="lang.languageCode as lang.displayName for lang in pb.currentEntity.catalog.languages"></select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">New value</label>
                        <div class="form-input" ng-init="setForm(pdForm);" ng-if="pb.currentEntity.valueType !== 2">
                            <input required ng-model="newValue.value" ui-validate=" 'dictValueValidator($value)' " name="dictValue" focus-on="" type="text" placeholder="input text" />
                        </div>
                        <div class="form-input __number js-number-input-plugin" ng-if="pb.currentEntity.valueType === 2" data-step="1">
                            <input class="js-val" required ng-model="newValue.value" ui-validate=" 'dictValueValidator($value)' " name="dictValue" focus-on="" type="text" placeholder="input number" />
                            <a class="up js-up"></a>
                            <a class="down js-down"></a>
                        </div>
                        <!--<button type="button" tabindex="-1" class="btn-clear"></button>-->
                        <div class="form-error" ng-if="pdForm.dictValue.$error.required || pdForm.dictValue.$error.validator">
                            <span ng-if="pdForm.dictValue.$error.required">Required</span>
                            <span ng-if="pdForm.dictValue.$error.validator">Duplicate key found</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <button class="btn" type="submit">Add</button>
                    </div>
                </fieldset>
            </form>
            <fieldset ng-if="pb.currentEntity.dictionaryValues.length > 0">
                <legend>Current values</legend>
                <div class="table-wrapper">
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="table-col">
                                    <label class="form-control __checkbox">
                                        <input type="checkbox" ng-model="selectedAll" ng-change="checkAll(selectedAll)" />
                                        <span class="check"></span>
                                    </label>
                                </th>
                                <th class="table-col">Language</th>
                                <th class="table-col">Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="table-item" ng-repeat="data in pb.currentEntity.dictionaryValues" ng-class="{'__selected': data === selectedItem}" context-menu data-target="pd_menu_{{$index}}" ng-click='selectItem(data)'>
                                <td class="table-col">
                                    <label class="form-control __checkbox">
                                        <input type="checkbox" ng-model="data.selected">
                                        <span class="check"></span>
                                    </label>
                                </td>
                                <td class="table-col">
                                    <div class="form-input" ng-if="pb.currentEntity.multilanguage">
                                        <select chosen ng-model="data.languageCode" ng-options="lang.languageCode as lang.displayName for lang in pb.currentEntity.catalog.languages"></select>
                                    </div>
                                </td>
                                <td class="table-col">
                                    <div class="form-input" ng-if="pb.currentEntity.valueType !== 2">
                                        <input required ng-model="data.value" type="text" placeholder="input text" />
                                    </div>
                                    <div class="form-input __number js-number-input-plugin" data-step="1" ng-if="pb.currentEntity.valueType === 2">
                                        <input class="js-val" required ng-model="data.value" type="text" placeholder="input number" />
                                        <a class="up js-up"></a>
                                        <a class="down js-down"></a>
                                    </div>
                                    <ul role="menu" class="menu __context" id="pd_menu_{{$index}}">
                                        <li class="menu-item" ng-click='delete($index)'>
                                            <i class="menu-ico fa fa-trash-o"></i> Delete
                                        </li>
                                    </ul>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </fieldset>
        </div>
    </div>
</div>